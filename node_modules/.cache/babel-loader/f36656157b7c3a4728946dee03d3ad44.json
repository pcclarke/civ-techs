{"ast":null,"code":"var _jsxFileName = \"/Users/pcclarke/Documents/GitHub/civ-techs/src/components/Civ4.js\";\nimport React from 'react';\nimport startSlice from '../img/startSlice.png';\n\nfunction Civ4(props) {\n  const angleShift = props.angleShift,\n        data = props.data,\n        width = props.width,\n        height = props.height,\n        margin = props.margin;\n  console.log(data.displayed);\n  return React.createElement(\"svg\", {\n    width: width + margin.left + margin.right,\n    height: height + margin.top + margin.bottom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"civTechs\",\n    transform: \"translate(\".concat(margin.left, \", \").concat(margin.top, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"wheel\",\n    transform: \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"image\", {\n    id: \"startSlice\",\n    x: 0,\n    y: -(height / 2),\n    width: 167,\n    height: height / 2,\n    xlinkHref: startSlice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  })), React.createElement(\"g\", {\n    className: \"spokeAll\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, data.displayed.map((d, i) => React.createElement(\"g\", {\n    className: \"\".concat(d.id, \" spoke\"),\n    key: \"spoke-\".concat(i),\n    transform: \"rotate(\".concat(d.pos * (360 / data.displayed.length) + angleShift, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })))));\n}\n\nexport default Civ4; // function drawWheel () {\n//   var spokes = spokeAll.selectAll(\".spoke\")\n//           .data(data.displayed)\n//       .enter().append(\"g\")\n//           .attr(\"class\", function(d) {\n//               var className = d.id + \" spoke\";\n//               return className;\n//           })\n//           .attr(\"transform\", function(d) {\n//               var ang = d.pos * (360 / data.displayed.length) + CIV.angleShift;\n//               return \"rotate(\" + ang +\")\";\n//           })\n//           .on(\"click\", function(d) { });\n//   var spokeLine = spokes.append(\"line\") // Spoke lines from center\n//       .attr(\"class\", \"spokeLine\")\n//       .attr(\"x1\", 0)\n//       .attr(\"y1\", function(d) {\n//           if (!d.requires && !d.optional) {\n//               return 0;\n//           } \n//           return -(CIV.arcBase + (CIV.arcSpace * d.spokeRank));\n//       })\n//       .attr(\"x2\", 0)\n//       .attr(\"y2\", function(d) {\n//           return -(width / 2) + 160 - (d.unlocks.length * 14);\n//       });\n//   var techIcons = spokes.append(\"image\") // Displayed item icons\n//       .attr(\"class\", \"techImg\")\n//       .attr(\"transform\", function(d) {\n//           if (d.pos > (data.displayed.length / 2)) {\n//               return \"translate(10, \" + (-(width / 2) + 157) + \") rotate(90)\";\n//           }\n//           return \"translate(-10, \" + (-(width / 2) + 182) + \") rotate(270)\";\n//       })\n//       .attr(\"height\", 25)\n//       .attr(\"width\", 25)\n//       .attr(\"xlink:href\", function(d) {\n//           var link;\n//           if (d.cat === \"units\" || d.cat === \"buildings\") {\n//               if (d[CIV.ilization]) {\n//                   link = game + \"/img/\" + d.cat + \"/\" + d[CIV.ilization].id + \".png\";\n//               } else {\n//                   link = game + \"/img/\" + d.cat + \"/\" + d.CIVILIZATION_ALL.id + \".png\";    \n//               }\n//           } else {\n//               link = game + \"/img/\" + d.cat + \"/\" + d.id + \".png\";\n//           }\n//           return link;\n//       })\n//       .on(\"mouseover\", function(d) {\n//           var tipName = \"\";\n//           if (d.cat === \"units\" || d.cat === \"buildings\") {\n//               if (d[CIV.ilization]) {\n//                   tipName = d[CIV.ilization].name;\n//               } else {\n//                   tipName = d.CIVILIZATION_ALL.name;\n//               }\n//           } else {\n//               tipName = d.name;\n//           }\n//               spokeHighlightIn(d, data);\n//       })\n//       .on(\"mouseout\", function(d) {\n//           //d3.select(\"#tooltip\").classed(\"hidden\", true);\n//           spokeHighlightOut(d);\n//       })\n//       .on(\"click\", function(d) { \n//           displayDetailsBox(d, d.pos, game, CIV, data);\n//       });\n//         var unlocks = spokes.selectAll(\".unlocks\")\n//             .data(function(d) {\n//                 return d.unlocks;\n//             })\n//             .enter()\n//             .filter(function(d) {\n//                 if (d.arcEnd || d.arcBack) {\n//                     return true;\n//                 }\n//                 return false;\n//             })\n//             .append(\"g\")\n//             .attr(\"class\", function(d) {\n//                 return \"unlock opaque \" + d.ref.id + \"\" + d.pos;\n//             });\n//         var unlockArcs = unlocks.append(\"path\")\n//             .attr(\"class\", function(d) {\n//                 return \"unlockArc\";\n//             })\n//             .attr(\"rank\", function(d) {\n//                 return d.rank;\n//             })\n//             .style(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"d\", unlockArc);\n//         var unlockSquares = unlocks.selectAll(\".unlockSquare\")\n//             .data(function(d) {\n//                 return d.lreq;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-(width/2) + 145 - (14 * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"unlockSquare\");\n//         unlockSquares.append(\"rect\")\n//             .attr(\"x\", -2.5)\n//             .attr(\"y\", -0.75)\n//             .attr(\"width\", 5)\n//             .attr(\"height\", 5)\n//             .attr(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             });\n//         var unlockIcons = spokes.selectAll(\".unlockIcon\")\n//             .data(function(d) {\n//                 return d.unlocks;\n//             })\n//             .enter() \n//             .append(\"image\")\n//             .attr(\"class\", \"unlockIcon\")\n//             .attr(\"transform\", function(d) {\n//                 if (d.pos > (data.displayed.length / 2)) {\n//                     return \"translate(6, \" + (-(width / 2) + (142 - (14 * d.rank))) + \") rotate(90)\";\n//                 }\n//                 return \"translate(-6, \" + (-(width / 2) + (153 - (14 * d.rank))) + \") rotate(270)\";\n//             })\n//             .attr(\"height\", 13)\n//             .attr(\"width\", 13)\n//             .attr(\"xlink:href\", function(d) {\n//                 var link;\n//                 if ((d.ref.cat === \"units\" || d.ref.cat === \"buildings\") && \n//                     !(game === \"civ1\" || game === \"civ2\")) {\n//                     if (d.ref[CIV.ilization]) {\n//                         link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref[CIV.ilization].id + \".png\";\n//                     } else {\n//                         link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.CIVILIZATION_ALL.id + \".png\";\n//                     }\n//                 } else {\n//                     link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.id + \".png\";\n//                 }\n//                 return link;\n//             })\n//             .on(\"mouseover\", function(d) {\n//                 d3.selectAll(\".unlockIcon\")\n//                     .classed(\"fade\", true);\n//                 d3.selectAll(\".\" + d.ref.id + \"\" + d.pos)\n//                     .classed(\"opaque\", false);\n//                 d3.select(this)\n//                     .classed(\"fade\", false);\n//                 //spokeHighlightIn(d.ref);\n//             })\n//             .on(\"mouseout\", function(d) {\n//                 d3.selectAll(\".unlockIcon\")\n//                     .classed(\"fade\", false);\n//                 d3.selectAll(\".unlock\")\n//                     .classed(\"opaque\", true);\n//                 //spokeHighlightOut(d.ref);\n//             })\n//             .on(\"click\", function(d) { \n//                 displayDetailsBox(d.ref, d.pos, game, CIV, data);\n//             });\n//         // Update icons with unique civilization units\n//         if ((+(CIV.game[3])) > 2) {\n//             d3.select(\"#selectCiv\")\n//                 .on(\"change\", function(d) {\n//                     CIV.ilization = this.options[this.selectedIndex].value;\n//                     d3.select(\"#description\").classed(\"hidden\", true);\n//                     unlockIcons.attr(\"xlink:href\", function(d) {\n//                         var link;\n//                         if (d.ref.cat === \"units\" || d.ref.cat === \"buildings\") {\n//                             if (d.ref[CIV.ilization]) {\n//                                 link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref[CIV.ilization].id + \".png\";\n//                             } else {\n//                                 link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.CIVILIZATION_ALL.id + \".png\";\n//                             }\n//                         } else {\n//                             link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.id + \".png\";\n//                         }\n//                         return link;\n//                     });\n//                 });\n//         }\n//         var reqArcs = wheel.append(\"g\")\n//             .attr(\"class\", \"reqArcs\");\n//         var reqGroup = reqArcs.selectAll(\".reqGroup\")\n//                 .data(data.displayed)\n//             .enter().append(\"g\")\n//                 .attr(\"class\", function(d) {\n//                     var className = d.id + \" reqGroup\";\n//                     return className;\n//                 })\n//                 .attr(\"transform\", function(d) {\n//                     var ang = d.pos * (360 / data.displayed.length) + CIV.angleShift;\n//                     return \"rotate(\" + ang +\")\";\n//                 })\n//                 .on(\"click\", function(d) { });\n//         var reqArc = reqGroup.append(\"path\")\n//             .attr(\"class\", \"spokeArc\")\n//             .style(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"d\", arc);\n//         var reqPin = reqGroup.append(\"line\")\n//             .attr(\"class\", \"spokePin\")\n//             .attr(\"x1\", 0)\n//             .attr(\"y1\", function(d) {\n//                 return -(CIV.arcBase + 7 + (CIV.arcSpace * d.arcRank));\n//             })\n//             .attr(\"x2\", 0)\n//             .attr(\"y2\", function(d) {\n//                 return -(CIV.arcBase - 5 + (CIV.arcSpace * d.arcRank));\n//             })\n//             .attr(\"stroke-width\", CIV.arcWidth)\n//             .attr(\"stroke\", function(d) {\n//                 return CIV.color(d.pos); \n//             });\n//         var reqSquares = reqGroup.selectAll(\".reqSquare\")\n//             .data(function(d) {\n//                 return d.lreq;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-CIV.arcBase - 2.5 - (CIV.arcSpace * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"reqSquare\");\n//         reqSquares.append(\"rect\")\n//             .attr(\"x\", -2.5)\n//             .attr(\"y\", -0.75)\n//             .attr(\"width\", 5)\n//             .attr(\"height\", 5)\n//             .attr(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             });\n//         var optCircles = reqGroup.selectAll(\".optCircle\")\n//             .data(function(d) {\n//                 return d.lopt;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-CIV.arcBase - 2.5 - (CIV.arcSpace * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"optCircle\");\n//         optCircles.append(\"circle\")\n//             .attr(\"cx\", 0)\n//             .attr(\"cy\", 2)\n//             .attr(\"r\", 2.5)\n//             .attr(\"stroke-width\", 1)\n//             .attr(\"stroke\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"fill\", \"white\");\n//         // Add the center image\n//         wheel.append(\"image\")\n//             .attr(\"x\", -75)\n//             .attr(\"y\", -75)\n//             .attr(\"width\", 150)\n//             .attr(\"height\", 150)\n//             .attr(\"xlink:href\", game + \"/img/\" + game + \"-center.png\");\n//     }\n//   });\n// }","map":{"version":3,"sources":["/Users/pcclarke/Documents/GitHub/civ-techs/src/components/Civ4.js"],"names":["React","startSlice","Civ4","props","angleShift","data","width","height","margin","console","log","displayed","left","right","top","bottom","map","d","i","id","pos","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,UAAP,MAAuB,uBAAvB;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA,QAEjBC,UAFiB,GAOfD,KAPe,CAEjBC,UAFiB;AAAA,QAGjBC,IAHiB,GAOfF,KAPe,CAGjBE,IAHiB;AAAA,QAIjBC,KAJiB,GAOfH,KAPe,CAIjBG,KAJiB;AAAA,QAKjBC,MALiB,GAOfJ,KAPe,CAKjBI,MALiB;AAAA,QAMjBC,MANiB,GAOfL,KAPe,CAMjBK,MANiB;AASnBC,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,SAAjB;AAEA,SACE;AACE,IAAA,KAAK,EAAEL,KAAK,GAAGE,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACK,KADtC;AAEE,IAAA,MAAM,EAAEN,MAAM,GAAGC,MAAM,CAACM,GAAhB,GAAsBN,MAAM,CAACO,MAFvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,SAAS,sBAAeP,MAAM,CAACI,IAAtB,eAA+BJ,MAAM,CAACM,GAAtC,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,SAAS,sBAAeR,KAAK,GAAG,CAAvB,eAA6BC,MAAM,GAAG,CAAtC,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,CAAC,EAAE,CAFL;AAGE,IAAA,CAAC,EAAE,EAAEA,MAAM,GAAC,CAAT,CAHL;AAIE,IAAA,KAAK,EAAE,GAJT;AAKE,IAAA,MAAM,EAAEA,MAAM,GAAC,CALjB;AAME,IAAA,SAAS,EAAEN,UANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAJF,EAiBE;AAAG,IAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEII,IAAI,CAACM,SAAL,CAAeK,GAAf,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KACjB;AACE,IAAA,SAAS,YAAKD,CAAC,CAACE,EAAP,WADX;AAEE,IAAA,GAAG,kBAAWD,CAAX,CAFL;AAGE,IAAA,SAAS,mBAAYD,CAAC,CAACG,GAAF,IAAS,MAAMf,IAAI,CAACM,SAAL,CAAeU,MAA9B,IAAwCjB,UAApD,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFJ,CAjBF,CAJF,CADF;AAsCD;;AAED,eAAeF,IAAf,C,CAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA","sourcesContent":["import React from 'react';\n\nimport startSlice from '../img/startSlice.png';\n\nfunction Civ4(props) {\n  const {\n    angleShift,\n    data,\n    width,\n    height,\n    margin,\n  } = props;\n\n  console.log(data.displayed);\n\n  return (\n    <svg\n      width={width + margin.left + margin.right}\n      height={height + margin.top + margin.bottom}\n    >\n      <g\n        className='civTechs'\n        transform={`translate(${margin.left}, ${margin.top})`}\n      >\n        <g\n          className='wheel'\n          transform={`translate(${width / 2}, ${height / 2})`}\n        >\n          <image\n            id='startSlice'\n            x={0}\n            y={-(height/2)}\n            width={167}\n            height={height/2}\n            xlinkHref={startSlice}\n          />\n        </g>\n        <g className='spokeAll'>\n          {\n            data.displayed.map((d, i) => (\n              <g\n                className={`${d.id} spoke`}\n                key={`spoke-${i}`}\n                transform={`rotate(${d.pos * (360 / data.displayed.length) + angleShift})`}\n              >\n\n              </g>\n            ))\n          }\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default Civ4;\n\n// function drawWheel () {\n\n\n\n\n//   var spokes = spokeAll.selectAll(\".spoke\")\n//           .data(data.displayed)\n//       .enter().append(\"g\")\n//           .attr(\"class\", function(d) {\n//               var className = d.id + \" spoke\";\n//               return className;\n//           })\n//           .attr(\"transform\", function(d) {\n//               var ang = d.pos * (360 / data.displayed.length) + CIV.angleShift;\n//               return \"rotate(\" + ang +\")\";\n//           })\n//           .on(\"click\", function(d) { });\n\n//   var spokeLine = spokes.append(\"line\") // Spoke lines from center\n//       .attr(\"class\", \"spokeLine\")\n//       .attr(\"x1\", 0)\n//       .attr(\"y1\", function(d) {\n//           if (!d.requires && !d.optional) {\n//               return 0;\n//           } \n//           return -(CIV.arcBase + (CIV.arcSpace * d.spokeRank));\n//       })\n//       .attr(\"x2\", 0)\n//       .attr(\"y2\", function(d) {\n//           return -(width / 2) + 160 - (d.unlocks.length * 14);\n//       });\n      \n//   var techIcons = spokes.append(\"image\") // Displayed item icons\n//       .attr(\"class\", \"techImg\")\n//       .attr(\"transform\", function(d) {\n//           if (d.pos > (data.displayed.length / 2)) {\n//               return \"translate(10, \" + (-(width / 2) + 157) + \") rotate(90)\";\n//           }\n//           return \"translate(-10, \" + (-(width / 2) + 182) + \") rotate(270)\";\n//       })\n//       .attr(\"height\", 25)\n//       .attr(\"width\", 25)\n//       .attr(\"xlink:href\", function(d) {\n//           var link;\n//           if (d.cat === \"units\" || d.cat === \"buildings\") {\n//               if (d[CIV.ilization]) {\n//                   link = game + \"/img/\" + d.cat + \"/\" + d[CIV.ilization].id + \".png\";\n//               } else {\n//                   link = game + \"/img/\" + d.cat + \"/\" + d.CIVILIZATION_ALL.id + \".png\";    \n//               }\n//           } else {\n//               link = game + \"/img/\" + d.cat + \"/\" + d.id + \".png\";\n//           }\n//           return link;\n//       })\n//       .on(\"mouseover\", function(d) {\n//           var tipName = \"\";\n//           if (d.cat === \"units\" || d.cat === \"buildings\") {\n//               if (d[CIV.ilization]) {\n//                   tipName = d[CIV.ilization].name;\n//               } else {\n//                   tipName = d.CIVILIZATION_ALL.name;\n//               }\n              \n//           } else {\n//               tipName = d.name;\n//           }\n//               spokeHighlightIn(d, data);\n//       })\n//       .on(\"mouseout\", function(d) {\n//           //d3.select(\"#tooltip\").classed(\"hidden\", true);\n//           spokeHighlightOut(d);\n//       })\n//       .on(\"click\", function(d) { \n//           displayDetailsBox(d, d.pos, game, CIV, data);\n//       });\n\n//         var unlocks = spokes.selectAll(\".unlocks\")\n//             .data(function(d) {\n//                 return d.unlocks;\n//             })\n//             .enter()\n//             .filter(function(d) {\n//                 if (d.arcEnd || d.arcBack) {\n//                     return true;\n//                 }\n//                 return false;\n//             })\n//             .append(\"g\")\n//             .attr(\"class\", function(d) {\n//                 return \"unlock opaque \" + d.ref.id + \"\" + d.pos;\n//             });\n\n//         var unlockArcs = unlocks.append(\"path\")\n//             .attr(\"class\", function(d) {\n//                 return \"unlockArc\";\n//             })\n//             .attr(\"rank\", function(d) {\n//                 return d.rank;\n//             })\n//             .style(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"d\", unlockArc);\n\n//         var unlockSquares = unlocks.selectAll(\".unlockSquare\")\n//             .data(function(d) {\n//                 return d.lreq;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-(width/2) + 145 - (14 * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"unlockSquare\");\n            \n//         unlockSquares.append(\"rect\")\n//             .attr(\"x\", -2.5)\n//             .attr(\"y\", -0.75)\n//             .attr(\"width\", 5)\n//             .attr(\"height\", 5)\n//             .attr(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             });\n\n//         var unlockIcons = spokes.selectAll(\".unlockIcon\")\n//             .data(function(d) {\n//                 return d.unlocks;\n//             })\n//             .enter() \n//             .append(\"image\")\n//             .attr(\"class\", \"unlockIcon\")\n//             .attr(\"transform\", function(d) {\n//                 if (d.pos > (data.displayed.length / 2)) {\n//                     return \"translate(6, \" + (-(width / 2) + (142 - (14 * d.rank))) + \") rotate(90)\";\n//                 }\n//                 return \"translate(-6, \" + (-(width / 2) + (153 - (14 * d.rank))) + \") rotate(270)\";\n//             })\n//             .attr(\"height\", 13)\n//             .attr(\"width\", 13)\n//             .attr(\"xlink:href\", function(d) {\n//                 var link;\n//                 if ((d.ref.cat === \"units\" || d.ref.cat === \"buildings\") && \n//                     !(game === \"civ1\" || game === \"civ2\")) {\n//                     if (d.ref[CIV.ilization]) {\n//                         link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref[CIV.ilization].id + \".png\";\n//                     } else {\n//                         link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.CIVILIZATION_ALL.id + \".png\";\n//                     }\n//                 } else {\n//                     link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.id + \".png\";\n//                 }\n//                 return link;\n//             })\n//             .on(\"mouseover\", function(d) {\n//                 d3.selectAll(\".unlockIcon\")\n//                     .classed(\"fade\", true);\n//                 d3.selectAll(\".\" + d.ref.id + \"\" + d.pos)\n//                     .classed(\"opaque\", false);\n//                 d3.select(this)\n//                     .classed(\"fade\", false);\n\n//                 //spokeHighlightIn(d.ref);\n//             })\n//             .on(\"mouseout\", function(d) {\n//                 d3.selectAll(\".unlockIcon\")\n//                     .classed(\"fade\", false);\n//                 d3.selectAll(\".unlock\")\n//                     .classed(\"opaque\", true);\n\n//                 //spokeHighlightOut(d.ref);\n//             })\n//             .on(\"click\", function(d) { \n//                 displayDetailsBox(d.ref, d.pos, game, CIV, data);\n//             });\n\n\n//         // Update icons with unique civilization units\n//         if ((+(CIV.game[3])) > 2) {\n//             d3.select(\"#selectCiv\")\n//                 .on(\"change\", function(d) {\n//                     CIV.ilization = this.options[this.selectedIndex].value;\n//                     d3.select(\"#description\").classed(\"hidden\", true);\n\n//                     unlockIcons.attr(\"xlink:href\", function(d) {\n//                         var link;\n//                         if (d.ref.cat === \"units\" || d.ref.cat === \"buildings\") {\n//                             if (d.ref[CIV.ilization]) {\n//                                 link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref[CIV.ilization].id + \".png\";\n//                             } else {\n//                                 link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.CIVILIZATION_ALL.id + \".png\";\n//                             }\n//                         } else {\n//                             link = game + \"/img/\" + d.ref.cat + \"/\" + d.ref.id + \".png\";\n//                         }\n//                         return link;\n//                     });\n//                 });\n//         }\n\n//         var reqArcs = wheel.append(\"g\")\n//             .attr(\"class\", \"reqArcs\");\n\n//         var reqGroup = reqArcs.selectAll(\".reqGroup\")\n//                 .data(data.displayed)\n//             .enter().append(\"g\")\n//                 .attr(\"class\", function(d) {\n//                     var className = d.id + \" reqGroup\";\n//                     return className;\n//                 })\n//                 .attr(\"transform\", function(d) {\n//                     var ang = d.pos * (360 / data.displayed.length) + CIV.angleShift;\n//                     return \"rotate(\" + ang +\")\";\n//                 })\n//                 .on(\"click\", function(d) { });\n\n//         var reqArc = reqGroup.append(\"path\")\n//             .attr(\"class\", \"spokeArc\")\n//             .style(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"d\", arc);\n            \n//         var reqPin = reqGroup.append(\"line\")\n//             .attr(\"class\", \"spokePin\")\n//             .attr(\"x1\", 0)\n//             .attr(\"y1\", function(d) {\n//                 return -(CIV.arcBase + 7 + (CIV.arcSpace * d.arcRank));\n//             })\n//             .attr(\"x2\", 0)\n//             .attr(\"y2\", function(d) {\n//                 return -(CIV.arcBase - 5 + (CIV.arcSpace * d.arcRank));\n//             })\n//             .attr(\"stroke-width\", CIV.arcWidth)\n//             .attr(\"stroke\", function(d) {\n//                 return CIV.color(d.pos); \n//             });\n            \n//         var reqSquares = reqGroup.selectAll(\".reqSquare\")\n//             .data(function(d) {\n//                 return d.lreq;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-CIV.arcBase - 2.5 - (CIV.arcSpace * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"reqSquare\");\n            \n//         reqSquares.append(\"rect\")\n//             .attr(\"x\", -2.5)\n//             .attr(\"y\", -0.75)\n//             .attr(\"width\", 5)\n//             .attr(\"height\", 5)\n//             .attr(\"fill\", function(d) {\n//                 return CIV.color(d.pos);\n//             });\n            \n//         var optCircles = reqGroup.selectAll(\".optCircle\")\n//             .data(function(d) {\n//                 return d.lopt;\n//             })\n//             .enter().append(\"g\")\n//             .attr(\"transform\", function(d) {\n//                 var ang = d.dist * (360 / data.displayed.length);\n//                 return \"rotate(\" + ang + \") translate(0, \" + (-CIV.arcBase - 2.5 - (CIV.arcSpace * d.arcRank)) + \")\";\n//             })\n//             .attr(\"class\", \"optCircle\");\n        \n//         optCircles.append(\"circle\")\n//             .attr(\"cx\", 0)\n//             .attr(\"cy\", 2)\n//             .attr(\"r\", 2.5)\n//             .attr(\"stroke-width\", 1)\n//             .attr(\"stroke\", function(d) {\n//                 return CIV.color(d.pos);\n//             })\n//             .attr(\"fill\", \"white\");\n\n//         // Add the center image\n//         wheel.append(\"image\")\n//             .attr(\"x\", -75)\n//             .attr(\"y\", -75)\n//             .attr(\"width\", 150)\n//             .attr(\"height\", 150)\n//             .attr(\"xlink:href\", game + \"/img/\" + game + \"-center.png\");\n//     }\n\n//   });\n// }"]},"metadata":{},"sourceType":"module"}