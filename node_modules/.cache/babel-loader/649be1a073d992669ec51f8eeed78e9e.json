{"ast":null,"code":"var _jsxFileName = \"/Users/pcclarke/Documents/GitHub/civ-techs/src/components/Civ4.js\";\nimport React from 'react';\nimport { scaleOrdinal as d3_scaleOrdinal } from 'd3-scale';\nimport { arc as d3_arc } from 'd3-shape';\nimport { schemeCategory10 as d3_schemeCategory10 } from 'd3-scale-chromatic';\nimport startSlice from '../img/startSlice.png';\n\nfunction Civ4(props) {\n  const angleShift = props.angleShift,\n        arcBase = props.arcBase,\n        arcSpace = props.arcSpace,\n        arcWidth = props.arcWidth,\n        data = props.data,\n        game = props.game,\n        width = props.width,\n        height = props.height,\n        margin = props.margin;\n  console.log(data.displayed);\n  const color = d3_scaleOrdinal(d3_schemeCategory10);\n  const unlockArc = d3_arc().innerRadius(d => arcBase + 342.5 + 14 * d.rank).outerRadius(d => arcBase + 342.6 + arcWidth + 14 * d.rank).startAngle(d => {\n    console.log(d);\n    console.log(d.arcBack);\n    return -1 * d.arcBack;\n  }).endAngle(d => d.arcEnd);\n  return React.createElement(\"svg\", {\n    width: width + margin.left + margin.right,\n    height: height + margin.top + margin.bottom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"civTechs\",\n    transform: \"translate(\".concat(margin.left, \", \").concat(margin.top, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    className: \"wheel\",\n    transform: \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"image\", {\n    id: \"startSlice\",\n    x: 0,\n    y: -(height / 2),\n    width: 167,\n    height: height / 2,\n    xlinkHref: startSlice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"g\", {\n    className: \"spokeAll\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, data.displayed.map((d, i) => React.createElement(\"g\", {\n    className: \"\".concat(d.id, \" spoke\"),\n    key: \"spoke-\".concat(i),\n    transform: \"rotate(\".concat(d.pos * (360 / data.displayed.length) + angleShift, \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"line\", {\n    className: \"spokeLine\",\n    x1: 0,\n    y1: !d.requires && !d.optional ? 0 : -(arcBase + arcSpace * d.spokeRank),\n    x2: 0,\n    y2: -(width / 2) + 160 - d.unlocks.length * 14,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"image\", {\n    className: \"techImg\",\n    transform: (() => d.pos > data.displayed.length / 2 ? \"translate(10, \".concat(-(width / 2) + 157, \") rotate(90)\") : \"translate(-10, \".concat(-(width / 2) + 182, \") rotate(270)\"))(),\n    height: 25,\n    width: 25,\n    xlinkHref: \"/\".concat(game, \"/img/\").concat(d.cat, \"/\").concat(d.id, \".png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), d.unlocks.map((u, j) => {\n    if (u.lreq) {\n      return React.createElement(\"g\", {\n        className: \"unlock opaque \".concat(u.ref.id).concat(u.pos),\n        key: \"unlock-\".concat(j),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        className: \"unlockArc\",\n        rank: u.rank,\n        fill: color(u.pos),\n        d: unlockArc(u),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), u.lreq.map((l, k) => React.createElement(\"g\", {\n        className: \"unlockSquare\",\n        key: \"unlock-square-\".concat(k),\n        transform: \"rotate(\".concat(l.dist * (360 / data.displayed.length), \") translate(0, \").concat(-(width / 2) + 145 - 14 * l.arcRank, \")\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: -2.5,\n        y: -0.75,\n        width: 5,\n        height: 5,\n        fill: color(l.pos),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))));\n    }\n  })))))));\n}\n\nexport default Civ4;","map":{"version":3,"sources":["/Users/pcclarke/Documents/GitHub/civ-techs/src/components/Civ4.js"],"names":["React","scaleOrdinal","d3_scaleOrdinal","arc","d3_arc","schemeCategory10","d3_schemeCategory10","startSlice","Civ4","props","angleShift","arcBase","arcSpace","arcWidth","data","game","width","height","margin","console","log","displayed","color","unlockArc","innerRadius","d","rank","outerRadius","startAngle","arcBack","endAngle","arcEnd","left","right","top","bottom","map","i","id","pos","length","requires","optional","spokeRank","unlocks","cat","u","j","lreq","ref","l","k","dist","arcRank"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAQC,YAAY,IAAIC,eAAxB,QAA8C,UAA9C;AACA,SAAQC,GAAG,IAAIC,MAAf,QAA4B,UAA5B;AACA,SAAQC,gBAAgB,IAAIC,mBAA5B,QAAsD,oBAAtD;AAEA,OAAOC,UAAP,MAAuB,uBAAvB;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA,QAEjBC,UAFiB,GAWfD,KAXe,CAEjBC,UAFiB;AAAA,QAGjBC,OAHiB,GAWfF,KAXe,CAGjBE,OAHiB;AAAA,QAIjBC,QAJiB,GAWfH,KAXe,CAIjBG,QAJiB;AAAA,QAKjBC,QALiB,GAWfJ,KAXe,CAKjBI,QALiB;AAAA,QAMjBC,IANiB,GAWfL,KAXe,CAMjBK,IANiB;AAAA,QAOjBC,IAPiB,GAWfN,KAXe,CAOjBM,IAPiB;AAAA,QAQjBC,KARiB,GAWfP,KAXe,CAQjBO,KARiB;AAAA,QASjBC,MATiB,GAWfR,KAXe,CASjBQ,MATiB;AAAA,QAUjBC,MAViB,GAWfT,KAXe,CAUjBS,MAViB;AAanBC,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,SAAjB;AAEA,QAAMC,KAAK,GAAGpB,eAAe,CAACI,mBAAD,CAA7B;AAEA,QAAMiB,SAAS,GAAGnB,MAAM,GACrBoB,WADe,CACFC,CAAD,IAAOd,OAAO,GAAG,KAAV,GAAmB,KAAKc,CAAC,CAACC,IAD9B,EAEfC,WAFe,CAEFF,CAAD,IAAQd,OAAO,GAAG,KAAV,GAAkBE,QAAnB,GAAgC,KAAKY,CAAC,CAACC,IAF3C,EAGfE,UAHe,CAGHH,CAAD,IAAO;AACjBN,IAAAA,OAAO,CAACC,GAAR,CAAYK,CAAZ;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYK,CAAC,CAACI,OAAd;AACA,WAAO,CAAC,CAAD,GAAKJ,CAAC,CAACI,OAAd;AACD,GAPe,EAQfC,QARe,CAQLL,CAAD,IAAOA,CAAC,CAACM,MARH,CAAlB;AAUA,SACE;AACE,IAAA,KAAK,EAAEf,KAAK,GAAGE,MAAM,CAACc,IAAf,GAAsBd,MAAM,CAACe,KADtC;AAEE,IAAA,MAAM,EAAEhB,MAAM,GAAGC,MAAM,CAACgB,GAAhB,GAAsBhB,MAAM,CAACiB,MAFvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,SAAS,sBAAejB,MAAM,CAACc,IAAtB,eAA+Bd,MAAM,CAACgB,GAAtC,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,SAAS,sBAAelB,KAAK,GAAG,CAAvB,eAA6BC,MAAM,GAAG,CAAtC,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,CAAC,EAAE,CAFL;AAGE,IAAA,CAAC,EAAE,EAAEA,MAAM,GAAC,CAAT,CAHL;AAIE,IAAA,KAAK,EAAE,GAJT;AAKE,IAAA,MAAM,EAAEA,MAAM,GAAC,CALjB;AAME,IAAA,SAAS,EAAEV,UANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAYI;AAAG,IAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEO,IAAI,CAACO,SAAL,CAAee,GAAf,CAAmB,CAACX,CAAD,EAAIY,CAAJ,KACjB;AACE,IAAA,SAAS,YAAKZ,CAAC,CAACa,EAAP,WADX;AAEE,IAAA,GAAG,kBAAWD,CAAX,CAFL;AAGE,IAAA,SAAS,mBAAYZ,CAAC,CAACc,GAAF,IAAS,MAAMzB,IAAI,CAACO,SAAL,CAAemB,MAA9B,IAAwC9B,UAApD,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,EAAE,EAAG,CAACe,CAAC,CAACgB,QAAH,IAAe,CAAChB,CAAC,CAACiB,QAAnB,GAA+B,CAA/B,GAAmC,EAAE/B,OAAO,GAAIC,QAAQ,GAAGa,CAAC,CAACkB,SAA1B,CAHzC;AAIE,IAAA,EAAE,EAAE,CAJN;AAKE,IAAA,EAAE,EAAE,EAAE3B,KAAK,GAAG,CAAV,IAAe,GAAf,GAAsBS,CAAC,CAACmB,OAAF,CAAUJ,MAAV,GAAmB,EAL/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAYE;AACE,IAAA,SAAS,EAAC,SADZ;AAEE,IAAA,SAAS,EAAE,CAAC,MAAOf,CAAC,CAACc,GAAF,GAASzB,IAAI,CAACO,SAAL,CAAemB,MAAf,GAAwB,CAAlC,2BACE,EAAExB,KAAK,GAAG,CAAV,IAAe,GADjB,6CAEG,EAAEA,KAAK,GAAG,CAAV,IAAe,GAFlB,kBAAP,GAFb;AAKE,IAAA,MAAM,EAAE,EALV;AAME,IAAA,KAAK,EAAE,EANT;AAOE,IAAA,SAAS,aAAMD,IAAN,kBAAkBU,CAAC,CAACoB,GAApB,cAA2BpB,CAAC,CAACa,EAA7B,SAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAqBGb,CAAC,CAACmB,OAAF,CAAUR,GAAV,CAAc,CAACU,CAAD,EAAIC,CAAJ,KAAU;AACvB,QAAID,CAAC,CAACE,IAAN,EAAY;AACV,aACE;AACE,QAAA,SAAS,0BAAmBF,CAAC,CAACG,GAAF,CAAMX,EAAzB,SAA8BQ,CAAC,CAACP,GAAhC,CADX;AAEE,QAAA,GAAG,mBAAYQ,CAAZ,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AACE,QAAA,SAAS,EAAC,WADZ;AAEE,QAAA,IAAI,EAAED,CAAC,CAACpB,IAFV;AAGE,QAAA,IAAI,EAAEJ,KAAK,CAACwB,CAAC,CAACP,GAAH,CAHb;AAIE,QAAA,CAAC,EAAEhB,SAAS,CAACuB,CAAD,CAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAUGA,CAAC,CAACE,IAAF,CAAOZ,GAAP,CAAW,CAACc,CAAD,EAAIC,CAAJ,KACV;AACE,QAAA,SAAS,EAAC,cADZ;AAEE,QAAA,GAAG,0BAAmBA,CAAnB,CAFL;AAGE,QAAA,SAAS,mBAAYD,CAAC,CAACE,IAAF,IAAU,MAAMtC,IAAI,CAACO,SAAL,CAAemB,MAA/B,CAAZ,4BAAqE,EAAExB,KAAK,GAAC,CAAR,IAAa,GAAb,GAAoB,KAAKkC,CAAC,CAACG,OAAhG,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AACE,QAAA,CAAC,EAAE,CAAC,GADN;AAEE,QAAA,CAAC,EAAE,CAAC,IAFN;AAGE,QAAA,KAAK,EAAE,CAHT;AAIE,QAAA,MAAM,EAAE,CAJV;AAKE,QAAA,IAAI,EAAE/B,KAAK,CAAC4B,CAAC,CAACX,GAAH,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADD,CAVH,CADF;AA4BD;AAAC,GA9BH,CArBH,CADF,CAFF,CAZJ,CAJF,CAJF,CADF;AAqFD;;AAED,eAAe/B,IAAf","sourcesContent":["import React from 'react';\n\nimport {scaleOrdinal as d3_scaleOrdinal} from 'd3-scale';\nimport {arc as d3_arc} from 'd3-shape';\nimport {schemeCategory10 as d3_schemeCategory10} from 'd3-scale-chromatic';\n\nimport startSlice from '../img/startSlice.png';\n\nfunction Civ4(props) {\n  const {\n    angleShift,\n    arcBase,\n    arcSpace,\n    arcWidth,\n    data,\n    game,\n    width,\n    height,\n    margin,\n  } = props;\n\n  console.log(data.displayed);\n\n  const color = d3_scaleOrdinal(d3_schemeCategory10);\n\n  const unlockArc = d3_arc()\n    .innerRadius((d) => arcBase + 342.5 + (14 * d.rank))\n    .outerRadius((d) => (arcBase + 342.6 + arcWidth) + (14 * d.rank))\n    .startAngle((d) => {\n      console.log(d);\n      console.log(d.arcBack);\n      return -1 * d.arcBack\n    })\n    .endAngle((d) => d.arcEnd);\n\n  return (\n    <svg\n      width={width + margin.left + margin.right}\n      height={height + margin.top + margin.bottom}\n    >\n      <g\n        className='civTechs'\n        transform={`translate(${margin.left}, ${margin.top})`}\n      >\n        <g\n          className='wheel'\n          transform={`translate(${width / 2}, ${height / 2})`}\n        >\n          <image\n            id='startSlice'\n            x={0}\n            y={-(height/2)}\n            width={167}\n            height={height/2}\n            xlinkHref={startSlice}\n          />\n            <g className='spokeAll'>\n            {\n              data.displayed.map((d, i) => (\n                <g\n                  className={`${d.id} spoke`}\n                  key={`spoke-${i}`}\n                  transform={`rotate(${d.pos * (360 / data.displayed.length) + angleShift})`}\n                >\n                  <line\n                    className='spokeLine'\n                    x1={0}\n                    y1={(!d.requires && !d.optional) ? 0 : -(arcBase + (arcSpace * d.spokeRank))}\n                    x2={0}\n                    y2={-(width / 2) + 160 - (d.unlocks.length * 14)}\n                  />\n                  <image\n                    className='techImg'\n                    transform={(() => (d.pos > (data.displayed.length / 2)) ?\n                      `translate(10, ${(-(width / 2) + 157)}) rotate(90)` :\n                      `translate(-10, ${(-(width / 2) + 182)}) rotate(270)`)()}\n                    height={25}\n                    width={25}\n                    xlinkHref={`/${game}/img/${d.cat}/${d.id}.png`}\n                  />\n                  {d.unlocks.map((u, j) => {\n                    if (u.lreq) {\n                      return (\n                        <g\n                          className={`unlock opaque ${u.ref.id}${u.pos}`}\n                          key={`unlock-${j}`}\n                        >\n                          <path\n                            className='unlockArc'\n                            rank={u.rank}\n                            fill={color(u.pos)}\n                            d={unlockArc(u)}\n                          />\n                          {u.lreq.map((l, k) => (\n                            <g\n                              className='unlockSquare'\n                              key={`unlock-square-${k}`}\n                              transform={`rotate(${l.dist * (360 / data.displayed.length)}) translate(0, ${(-(width/2) + 145 - (14 * l.arcRank))})`}\n                            >\n                              <rect\n                                x={-2.5}\n                                y={-0.75}\n                                width={5}\n                                height={5}\n                                fill={color(l.pos)}\n                              />\n                            </g>\n                          ))}\n                        </g>\n                      );\n                    }})\n                  }\n                </g>\n              ))\n            }\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default Civ4;\n"]},"metadata":{},"sourceType":"module"}